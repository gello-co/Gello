# Gello Environment Variables Template
# Copy this file to .env for local development WITHOUT Doppler
# For production/staging, use Doppler to manage these secrets

# =============================================================================
# Supabase Configuration (Local Development)
# =============================================================================
# These values are automatically provided by `bunx supabase status -o env`
# when running locally. Use Doppler for staging/production environments.

# Supabase API URL
# Local: http://localhost:54321 (auto-set by bootstrap.sh)
# Remote: https://<project-ref>.supabase.co
SUPABASE_URL=http://localhost:54321

# Supabase Anonymous/Public Key (safe for client-side)
# Local: auto-generated by Supabase CLI
# Remote: Get from Supabase Dashboard > Project Settings > API
SUPABASE_ANON_KEY=

# Supabase Service Role Key (server-side only, KEEP SECRET)
# Local: auto-generated by Supabase CLI
# Remote: Get from Supabase Dashboard > Project Settings > API
SUPABASE_SERVICE_ROLE_KEY=

# Database Connection URL (direct PostgreSQL connection)
# Local: postgresql://postgres:postgres@localhost:54322/postgres
# Remote: Get from Supabase Dashboard > Project Settings > Database
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# =============================================================================
# Application Configuration
# =============================================================================

# Server port
PORT=3000

# Node environment
# Options: development, staging, production
NODE_ENV=development

# Session secret for cookie signing (generate with: openssl rand -base64 32)
SESSION_SECRET=

# CSRF secret for CSRF protection (generate with: openssl rand -base64 32)
CSRF_SECRET=

# =============================================================================
# Development Mode Flags
# =============================================================================

# Enable mock mode (uses in-memory data, no database required)
# Set to "true" to bypass database connection
MOCK_MODE=false

# Enable automatic admin login for development
# Only works when MOCK_MODE=true
MOCK_AUTO_LOGIN=false

# Enable dev auth bypass (auto-login as admin user)
# Only enable in development environments
DEV_BYPASS_AUTH=false

# Allow test bypass for integration tests
# Only enable when running test suite
ALLOW_TEST_BYPASS=false

# =============================================================================
# Auth Configuration (used by Supabase config.toml)
# =============================================================================

# Site URL for authentication redirects
# Local: http://127.0.0.1:3000
# Remote: https://gello.co
AUTH_SITE_URL=http://127.0.0.1:3000

# =============================================================================
# Notes
# =============================================================================
#
# For local development:
#   1. Run `bunx supabase start` to start local Supabase
#   2. Run `bun run start` which auto-loads Supabase env vars
#   3. Or use `bun run dev:mock` for mock mode (no database)
#
# For Doppler:
#   1. Install Doppler CLI: https://docs.doppler.com/docs/install-cli
#   2. Run `doppler login` to authenticate
#   3. Run `doppler setup` in project root to configure
#   4. Run `bun run dev` to start with Doppler secrets
#
# For staging/production:
#   Use Doppler configs: `bun run start:stg` or `bun run start:prd`
